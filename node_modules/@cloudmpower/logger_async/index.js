(function(){

    module.exports.writeToLogFile = async (config, logRecord) => {

        let webServer =  require("@cloudmpower/saasgateway_async");
        let header = {
            "hostname"                : "127.0.0.1",
            "port"                    : "7173",
            "path"                    : "/logserver/log/add",
            "method"                  : "POST",
            "headers"                 : {
                "Content-Type"            : "application/json",
                "x-service-from"          : "localhost",
                "x-auth-server"           : true
            }
        };

        let logObj = { logName : config.logFile, logRecord : logRecord };
        config.gatewayConfig = config.logServerConfig || header;
        config.gatewayConfig.headers["x-service-from"] = config.domainName || 'localhost';
        config.dntLogGateway = true;
        webServer(logObj, config);
    };

    module.exports.consoleMessage = async (msg , tags, config) => {
        let dated = new Date();
        let conf = config || {};

        let messenger = {date :  dated, message : msg, tag: tags };
        let message = JSON.stringify(messenger);
        console.log(message);
        return messenger;
    };
})();